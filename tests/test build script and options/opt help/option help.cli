# run sjasmplus in a ways to display help page, check output to be at least 10 lines long in each case
# sjasmplus in help mode sets exit code to "1", so the "||" is correct for sjasmplus lines
# but after that the diff and other tests should be run
$MEMCHECK "$EXE" > noopt.msglst ||\
$MEMCHECK "$EXE" -h> h.msglst ||\
$MEMCHECK "$EXE" --help > help.msglst ||\
diff help.msglst noopt.msglst &&\
diff help.msglst h.msglst &&\
help_lines=`wc -l < help.msglst` &&\
echo "Help lines count: ${help_lines} (must be at least 20 to pass the test)" &&\
[[ 20 -le ${help_lines} ]] ;
last_result=$?
