# file opened: po_display.asm
 1    0000              ;; These tests produce console output and that's not covered by CI test running script
 2    0000              ;; So they are basically manual tests + example, not validated on CI.
 3    0000              ; DISPLAY options
 4    0000              ; /D - out only in Decimal
 5    0000              ; /H - out only in Hexadecimal
 6    0000              ; /A - out both in Hexadecimal and Decimal
 7    0000
 8    0000              ;; Example with DISPLAY directive description
 9    0000
10    0000                  ORG 100h
11    0100              TESTLABEL:
12    0100                  ;...some code...
13    0100 C9               RET
14    0101                  DISPLAY "--the some program-- by me"
15    0101                  DISPLAY "TESTLABEL address is:",/A,TESTLABEL
16    0101 ~            /*
17    0101 ~            will output to the console strings:
18    0101 ~            > --the some program-- by me
19    0101 ~            > TESTLABEL address is:0x100, 256
20    0101 ~            */
21    0101
22    0101              ;; Part of example in LUA chapter of documentation (modified to pin date to fixed one)
23    0101                  LUA
24    0101 ~                    -- Creates define "TIME" with current time
25    0101 ~                    datetime = os.date("%Y-%m-%d %H:%M:%S")
26    0101 ~                    print(datetime)
27    0101 ~                    datetime = "1982-04-23 03:14:15"    -- set it to fixed string for CI tests to pass
28    0101 ~                    sj.insert_define("TIME", '"' .. datetime .. '"')
29    0101                  ENDLUA
30    0101
31    0101                  DISPLAY "Build time: ", "1982-04-23 03:14:15"
32    0101 ~            /*
33    0101 ~            will output to the console strings:
34    0101 ~            Build time: <current date+time>  --> not current, but fixed one, for automated tests to pass
35    0101 ~            */
36    0101
37    0101              ;; Non-documentation manual tests of DISPLAY
38    0101
39    0101                  DISPLAY 0x100, " | ", /D, 0x100, " | ", 0x100, " | ", /H, 0x100, " | ", 0x100, " | ", /A, 0x100, " | ", 0x100, " |s: ", "0x100"
40    0101                  DISPLAY -2, " | ", /D, -2, " | ", -2, " | ", /H, -2, " | ", -2, " | ", /A, -2, " | ", -2, " |s: ", "-2"
41    0101                  DISPLAY 0xFF0000, " | ", /D, 0xFF0000, " | ", 0xFF0000, " | ", /H, 0xFF0000, " | ", 0xFF0000, " | ", /A, 0xFF0000, " | ", 0xFF0000, " |s: ", "0xFF0000"
42    0101                  DISPLAY 0xFF<<24, " | ", /D, 0xFF<<24, " | ", 0xFF<<24, " | ", /H, 0xFF<<24, " | ", 0xFF<<24, " | ", /A, 0xFF<<24, " | ", 0xFF<<24, " |s: ", "0xFF<<24"
43    0101                  DISPLAY 0xFF<<20, " | ", /D, 0xFF<<20, " | ", 0xFF<<20, " | ", /H, 0xFF<<20, " | ", 0xFF<<20, " | ", /A, 0xFF<<20, " | ", 0xFF<<20, " |s: ", "0xFF<<20"
44    0101 ~            /*
45    0101 ~            will output to the console strings:
46    0101 ~            > 0x0100 | 256 | 0x0100 | 0x0100 | 0x0100 | 0x0100, 256 | 0x0100 |s: 0x100
47    0101 ~            > 0xFFFFFFFE | 4294967294 | 0xFFFFFFFE | 0xFFFFFFFE | 0xFFFFFFFE | 0xFFFFFFFE, 4294967294 | 0xFFFFFFFE |s: -2
48    0101 ~            > 0xFF0000 | 16711680 | 0xFF0000 | 0xFF0000 | 0xFF0000 | 0xFF0000, 16711680 | 0xFF0000 |s: 0xFF0000
49    0101 ~            > 0xFF000000 | 4278190080 | 0xFF000000 | 0xFF000000 | 0xFF000000 | 0xFF000000, 4278190080 | 0xFF000000 |s: 0xFF<<24
50    0101 ~            > 0xFF00000 | 267386880 | 0xFF00000 | 0xFF00000 | 0xFF00000 | 0xFF00000, 267386880 | 0xFF00000 |s: 0xFF<<20
51    0101 ~            */
52    0101
53    0101              ;; testing error reporting
po_display.asm(54): error: [DISPLAY] Expression expected
54    0101                  DISPLAY
po_display.asm(55): error: [DISPLAY] Syntax error, unknown option: /X, 1
55    0101                  DISPLAY /X, 1
po_display.asm(56): error: Unexpected: 1
56    0101                  DISPLAY /H 1
po_display.asm(57): error: [DISPLAY] Syntax error:     DISPLAY ))((%*%!@)
57    0101                  DISPLAY ))((%*%!@)
58    0101
# file closed: po_display.asm

Value    Label
------ - -----------------------------------------------------------
0x0100   TESTLABEL
